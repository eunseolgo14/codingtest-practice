# 괄호 변환 

**작성일**: 2025-10-09
**목표**: 문자열 분리와 재귀적 로직을 이용해 주어진 "균형잡힌 괄호 문자열"을 "올바른 괄호 문자열"로 변환하는 함수를 구현한다.

---

## 최초 제출(MySubmit.java) 시 틀린 부분
1. **재귀 함수의 상태 누적 로직**
   - `process(result, text)` 형태로 작성하여 `result`를 인자로 넘기며 누적 처리함.
   - 이로 인해 하위 재귀 결과가 상위 결과와 중복되어 문자열이 꼬이는 문제 발생.

2. **isCorrect() 함수가 괄호 올바름을 제대로 판별하지 않음**
   - 단순히 `text.startsWith("(")`으로만 검증하여 중간 불균형(`())( `등)을 감지 못함.
    - 문제 조건 상 입력은 균형잡힌 문자열이므로 예외가 발생하지 않지만 일반적인 실전 상황에서는 "(()))(( 등 불균형 입력이 들어올 수 있음.

3. **균형 문자열 분리(findBalanced)가 과도한 조건 포함**
    - `(0 < openCount && 0 < closeCount)` 조건은 불필요.
    - 균형이 처음 맞는 시점`(openCount == closeCount)`에서 바로 break하는 것으로 충분.

---

## 2차 제출(MySolution.java) 시 수정한 부분
- `process()`에서 `result` 인자 및 누적 제거 → `return` 기반 문자열 조립으로 전환.
- `isCorrect()`를 누적 카운터 방식으로 변경하여 실전 케이스 대응 가능하게 수정.

---

## 헷갈렸던 것/ 새로 배운 것
- “균형잡힌 괄호 문자열” vs “올바른 괄호 문자열” 차이점
    - 균형잡힘: `'('` 개수 == `')'` 개수
    - 올바름: 여는 괄호보다 닫는 괄호가 먼저 나와서는 안 됨.
- 재귀 호출 시 상태를 인자로 넘기면 안 된다
    - 문자열 조합은 항상 `return`으로만 전달해야 중복 누적 문제를 방지할 수 있음.
- 문제 입력 조건에 따라 통과/실패가 달라질 수 있다
    - 프로그래머스에서는 항상 “균형잡힌 문자열”만 주어지지만,
    - 일반 실전에서는 불균형 문자열도 주어질 수 있으므로 `isCorrect()`를 더 엄밀하게 작성해야 함.

---

## 기억할 포인트
- 균형잡힌 문자열 → `u, v`로 분리 (`findBalanced`)
- `u`가 올바른 경우: `u + process(v)`
- `u`가 올바르지 않은 경우: `"(" + process(v) + ")" + reverse(u[1:-1])`
- `isCorrect()`는 누적 카운터로 중간 음수 검증
- 재귀 함수는 side-effect 없는 순수 함수 형태로 구현

